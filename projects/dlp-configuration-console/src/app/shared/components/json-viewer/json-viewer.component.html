<section class="ngx-json-viewer">
    <section
      *ngFor="let segment of segments"
      [ngClass]="['segment', 'segment-type-' + segment.type]">
      <section
        (click)="toggle(segment)"
        [ngClass]="{
          'segment-main': true,
          'expandable': isExpandable(segment),
          'expanded': segment.expanded
        }">
        <div *ngIf="isExpandable(segment)" class="toggler"></div>
        <span class="segment-key">{{ segment.key }}</span>
        <span class="segment-separator">: </span>
        <span *ngIf="!segment.expanded || !isExpandable(segment)" class="segment-value">{{ segment.description }}</span>
      </section>
      <section *ngIf="segment.expanded && isExpandable(segment)" class="children">
        <span class="segment-value clr-white" *ngIf="segment.type=='array'">[</span>
        <app-json-viewer [json]="segment.value" [expanded]="expanded" [depth]="depth" [_currentDepth]="_currentDepth+1"></app-json-viewer>
        <span class="segment-value clr-white" *ngIf="segment.type=='array'">]</span>
      </section>
    </section>
  </section>